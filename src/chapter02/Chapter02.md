# Chapter 02: 객체 생성과 파괴

## Item 1: 생성자 대신 정적 팩터리 메서드를 고려하라
**정적 팩터리 메서드**란 클래스의 인스턴스를 반환하는 정적 메서드로, 생성자보다 다음과 같은 장점을 가진다:

### 정적 팩터리 메서드의 장점
1. **이름을 가질 수 있다**  
   - 메서드 이름을 통해 사용 목적을 명확히 전달할 수 있다.

2. **호출될 때마다 새로운 인스턴스를 생성하지 않아도 된다**  
   - 인스턴스의 생명주기를 관리할 수 있다.

3. **반환 타입의 하위 타입 객체를 반환할 수 있다**  
   - 다양한 하위 타입 객체를 생성 가능하다.

4. **입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다**  
   - 클라이언트는 반환 객체의 구체적인 클래스를 몰라도 된다.

5. **작성 시점에 반환할 객체의 클래스가 존재하지 않아도 된다**

### 정적 팩터리 메서드의 단점
1. **상속을 지원하기 어렵다**  
   - `public` 또는 `protected` 생성자가 필요하다.

2. **정적 팩터리 메서드는 찾기 어렵다**  
   - API 문서에 명시적으로 기재하고, 널리 알려진 규칙에 따라 메서드 이름을 짓는 것이 중요하다.

---

## Item 2: 생성자에 매개변수가 많다면 빌더를 고려하라
- 매개변수 개수가 많아지면 클라이언트 코드 작성 및 가독성이 떨어진다.

### 자바 빈즈(Java Beans) 패턴의 문제점
- 기본 생성자와 setter 메서드를 사용하는 방식:
  - 여러 메서드 호출이 필요하다.
  - 객체가 완전히 생성되기 전까지 일관성이 없다.
  - 객체의 불변성을 보장할 수 없다.

### 빌더(Builder) 패턴
- 매개변수가 많거나 같은 타입인 경우 유용하다.
- **장점**:
  - 점층적 생성자보다 코드가 간결하다.
  - 자바 빈즈보다 안전하며 가독성이 좋다.
- **단점**:
  - 코드가 다소 장황하며, 매개변수 4개 이상일 때 유용하다.

---

## Item 3: private 생성자나 열거 타입으로 싱글톤임을 보증하라
**싱글톤**은 클래스의 인스턴스를 오직 하나만 생성하도록 보장하는 패턴이다.

### 싱글톤 구현 방법
1. **public static final 필드 방식**  
   - 싱글톤임이 명확하며 간결하다.

2. **정적 팩터리 방식**  
   - 싱글톤이 아니게 변경할 수 있는 유연성을 제공한다.
   - 제네릭 싱글톤 팩터리 구현 가능.
   - 직렬화 시 추가 작업 필요.

3. **열거 타입 방식**  
   - 직렬화 및 리플렉션 공격에도 안전하다.

---

## Item 4: 인스턴스화를 막으려거든 private 생성자를 사용하라
- 특정 클래스가 인스턴스화되지 않도록 하려면, `private` 생성자를 선언한다.

---

## Item 5: 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라
- **의존 객체 주입**을 통해 코드 재사용성과 테스트 용이성을 높인다.

---

## Item 6: 불필요한 객체 생성을 피하라
- 동일한 작업에 대해 불필요하게 객체를 생성하지 않는다.

---

## Item 7: 다 쓴 객체 참조를 해제하라
- **가비지 컬렉션** 언어에서도 메모리 누수 방지를 위해 다 쓴 객체의 참조를 명시적으로 해제해야 한다.
- **캐시와 콜백**에서도 참조를 명확히 해지한다.

---

## Item 8: finalizer와 cleaner 사용을 피하라
- `finalize()`는 실행 시점을 예측할 수 없어 성능 저하 및 불확실성이 있다.
- `cleaner()`는 `finalizer()`에 비해 제어 가능한 스레드, 안정성, 리소스 누수 방지 측면에서 개선되었지만, 실행 시점을 예측할 수 없는 문제는 여전히 존재한다. 

---

## Item 9: try-finally보다는 try-with-resources를 사용하라
- **try-with-resources**는 자원을 명확히 반납하고 예외를 안전하게 처리한다.
- 숨겨진 예외가 스택 추적에 기록되어 디버깅에 유리하다.
